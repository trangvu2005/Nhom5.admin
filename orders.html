<!DOCTYPE html>
<html lang="vi" data-bs-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Quản lý vé và người tham gia</title>
    
    <meta name="description" content="Hệ thống quản lý đơn hàng toàn diện với theo dõi, xử lý và phân tích">
    <meta name="keywords" content="bootstrap, admin, dashboard, đơn hàng, thương mại điện tử, theo dõi">
    
    <link rel="icon" type="image/png" href="./images/logo.png">
    <link rel="apple-touch-icon" href="./images/logo.png">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/apexcharts" defer></script>




  <script type="module" crossorigin src="./assets/vendor-bootstrap-C9iorZI5.js"></script>
  <script type="module" crossorigin src="./assets/vendor-charts-DGwYAWel.js"></script>
  <script type="module" crossorigin src="./assets/vendor-ui-DjYv-mAO.js"></script>
  <script type="module" crossorigin src="./assets/main-BTJ3rIT5.js"></script>
  <link rel="stylesheet" crossorigin href="./assets/main-DIlj6CUL.css">
</head>
<body data-page="orders" class="order-management">
    <!-- Container ứng dụng quản trị -->
    <div class="admin-app">
        <div class="admin-wrapper" id="admin-wrapper">
<header class="admin-header">
    <nav class="navbar navbar-light bg-white border-bottom">
        <div class="container-fluid d-flex align-items-center flex-nowrap">
            
            <div class="d-flex align-items-center me-auto">
                <button class="btn btn-link text-dark p-0 me-2" type="button" id="sidebarToggle">
                    <i class="bi bi-list fs-4"></i>
                </button>

                <a class="navbar-brand d-flex align-items-center m-0" href="./index.html">
                    <h1 class="h5 mb-0 fw-bold text-primary text-nowrap">UEH EVENTS HUB</h1>
                </a>
            </div>

            <div class="search-container flex-grow-1 d-flex justify-content-end justify-content-md-center px-2" x-data="searchComponent">
                <div class="position-relative d-none d-md-block w-100" style="max-width: 400px;">
                    <input type="search" class="form-control" placeholder="Tìm kiếm... (Ctrl + K)">
                    <i class="bi bi-search position-absolute top-50 end-0 translate-middle-y me-3 text-muted"></i>
                </div>
                
                <button class="btn btn-outline-secondary border-0 d-md-none" type="button">
                    <i class="bi bi-search"></i>
                </button>
            </div>

            <div class="navbar-nav flex-row align-items-center flex-nowrap">
                <div x-data="themeSwitch" class="me-1">
                    <button class="btn btn-outline-secondary border-0" @click="toggle()">
                        <i class="bi bi-sun-fill" x-show="currentTheme === 'light'"></i>
                        <i class="bi bi-moon-fill" x-show="currentTheme === 'dark'"></i>
                    </button>
                </div>

                        <div class="dropdown me-2">
                            <button class="btn btn-outline-secondary position-relative" type="button" data-bs-display="static"
                                data-bs-toggle="dropdown" aria-expanded="false">
                                <i class="bi bi-bell"></i>
                                <span
                                    class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                                    3
                                </span>
                            </button>
                            <ul class="dropdown-menu dropdown-menu-end">
                                <li>
                                    <h6 class="dropdown-header">Thông báo</h6>
                                </li>
                                <li><a class="dropdown-item" href="#">Có người dùng mới đăng ký</a></li>
                                <li><a class="dropdown-item" href="#">Cập nhật trạng thái máy chủ</a></li>
                                <li><a class="dropdown-item" href="#">Bạn có tin nhắn mới</a></li>
                                <li>
                                    <hr class="dropdown-divider">
                                </li>
                                <li><a class="dropdown-item text-center" href="#">Xem tất cả thông báo</a></li>
                            </ul>
                        </div>
                       <!-- Menu người dùng -->
                        <div class="dropdown">
                            <button class="btn btn-outline-secondary d-flex align-items-center" type="button"
                                data-bs-toggle="dropdown" aria-expanded="false">

                                <!-- Avatar -->
                                <img src="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='16'%20cy='16'%20r='16'%20fill='url(%23avatarGradient)'/%3e%3cg%20fill='white'%20opacity='0.9'%3e%3ccircle%20cx='16'%20cy='12'%20r='5'/%3e%3cpath%20d='M16%2018c-5.5%200-10%202.5-10%207v1h20v-1c0-4.5-4.5-7-10-7z'/%3e%3c/g%3e%3ccircle%20cx='16'%20cy='16'%20r='15.5'%20fill='none'%20stroke='rgba(255,255,255,0.2)'%20stroke-width='1'/%3e%3cdefs%3e%3clinearGradient%20id='avatarGradient'%20x1='0%25'%20y1='0%25'%20x2='100%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20style='stop-color:%236b7280;stop-opacity:1'%20/%3e%3cstop%20offset='100%25'%20style='stop-color:%234b5563;stop-opacity:1'%20/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e"
                                    alt="User Avatar" width="24" height="24" class="rounded-circle me-2">

                                <!-- Tên user -->
                                <span class="d-none d-md-inline">John Doe</span>
                                <i class="bi bi-chevron-down ms-1"></i>
                             <!-- Dropdown menu -->
                             <ul class="dropdown-menu dropdown-menu-end">
                                <li>
                                    <a class="dropdown-item" href="#">
                                        <i class="bi bi-person me-2"></i> Hồ sơ cá nhân
                                    </a>
                                </li>
                                <li>
                                    <a class="dropdown-item" href="#">
                                        <i class="bi bi-gear me-2"></i> Cài đặt hệ thống
                                    </a>
                                </li>

                                <li>
                                    <hr class="dropdown-divider">
                                </li>

                                <li>
                                    <a class="dropdown-item" href="#">
                                        <i class="bi bi-box-arrow-right me-2"></i> Đăng xuất
                                    </a>
                                </li>
                            </ul>    
                        </div>
                    </nav>
                </header>
            <!-- Sidebar -->
        <aside class="admin-sidebar" id="admin-sidebar">
            <div class="sidebar-content">
                <nav class="sidebar-nav">
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link" href="./index.html">
                                <i class="bi bi-speedometer2"></i>
                                <span>Trang tổng quan</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="./products.html">
                                <i class="bi bi-box"></i>
                                <span>Sự kiện</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="./orders.html">
                                <i class="bi bi-bag-check"></i>
                                <span>Đơn vé</span>
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>
        </aside>
            <!-- Nội dung chính -->
            <main class="admin-main p-3 p-lg-4">
                <div class="container-fluid p-3 p-lg-5">
                    
<div class="row align-items-center mb-3">
    <div class="col-12 text-start">
        <h2 class="fw-bold text-uppercase mb-1" 
            style="font-size: clamp(0.9rem, 4vw, 1.2rem); white-space: nowrap; margin-top: 10px;">
            Quản lý vé và người tham gia
        </h2>
        <p class="text-muted mb-2" style="font-size: 0.7rem;">
            Quản lý, xử lý và phân tích doanh số
        </p>
    </div>
</div>
<div class="row g-2 mb-4">
    <div class="col-4">
        <div class="card h-100 border-0 shadow-sm text-center py-2 bg-white">
            <i class="bi bi-download mb-1 text-primary" style="font-size: 0.8rem;"></i>
            <div class="fw-bold text-nowrap" style="font-size: 9px; color: #006B6F;">Xuất dữ liệu</div>
        </div>
    </div>

    <div class="col-4">
        <div class="card h-100 border-0 shadow-sm text-center py-2 bg-white">
            <i class="bi bi-arrow-repeat mb-1 text-success" style="font-size: 0.8rem;"></i>
            <div class="fw-bold text-nowrap" style="font-size: 9px; color: #006B6F;">Cập nhật hàng loạt</div>
        </div>
    </div>

    <div class="col-4">
        <div class="card h-100 border-0 shadow-sm text-center py-2 bg-white">
            <i class="bi bi-plus-lg mb-1 text-danger" style="font-size: 0.8rem;"></i>
            <div class="fw-bold text-nowrap" style="font-size: 9px; color: #006B6F;">Đơn vé mới</div>
        </div>
    </div>
</div>
                    <!-- Container quản lý đơn vé -->
                    <div x-data="orderTable" x-init="init()">
                        <!-- Widget thống kê đơn vé -->
                        <div class="row g-4 g-lg-5 mb-5">
                            <div class="col-xl-3 col-lg-6">
                                <div class="card stats-card">
                                    <div class="card-body p-3 p-lg-4">
                                        <div class="d-flex align-items-center">
                                            <div class="stats-icon bg-primary bg-opacity-10 text-primary me-3">
                                                <i class="bi bi-bag-check"></i>
                                            </div>
                                            <div>
                                                <h6 class="mb-0 text-muted">Tổng đơn vé</h6>
                                                <h3 class="mb-0" x-text="stats.total"></h3>
                                                <small class="text-success">
                                                    <i class="bi bi-arrow-up"></i> +12% so với tháng trước
                                                </small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-3 col-lg-6">
                                <div class="card stats-card">
                                    <div class="card-body p-3 p-lg-4">
                                        <div class="d-flex align-items-center">
                                            <div class="stats-icon bg-warning bg-opacity-10 text-warning me-3">
                                                <i class="bi bi-clock"></i>
                                            </div>
                                            <div>
                                                <h6 class="mb-0 text-muted">Đang chờ</h6>
                                                <h3 class="mb-0" x-text="stats.pending"></h3>
                                                <small class="text-warning">
                                                    <i class="bi bi-exclamation-circle"></i> Cần chú ý
                                                </small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-3 col-lg-6">
                                <div class="card stats-card">
                                    <div class="card-body p-3 p-lg-4">
                                        <div class="d-flex align-items-center">
                                            <div class="stats-icon bg-info bg-opacity-10 text-info me-3">
                                                <i class="bi bi-truck"></i>
                                            </div>
                                            <div>
                                                <h6 class="mb-0 text-muted">Đã hoàn thành</h6>
                                                <h3 class="mb-0" x-text="stats.shipped"></h3>
                                                <small class="text-info">
                                                    <i class="bi bi-arrow-right"></i> Xong
                                                </small>
                                            </div>  
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-3 col-lg-6">
                                <div class="card stats-card">
                                    <div class="card-body p-3 p-lg-4">
                                        <div class="d-flex align-items-center">
                                            <div class="stats-icon bg-success bg-opacity-10 text-success me-3">
                                                <i class="bi bi-currency-dollar"></i>
                                            </div>
                                            <div>
                                                <h6 class="mb-0 text-muted">Doanh thu</h6>
                                                <h3 class="mb-0" x-text="`$${stats.revenue.toLocaleString()}`"></h3>
                                                <small class="text-success">
                                                    <i class="bi bi-arrow-up"></i> +8% so với tuần trước
                                                </small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Hàng biểu đồ -->
                        <div class="row g-4 g-lg-5 mb-5">
                            <!-- Biểu đồ xu hướng đơn hàng -->
                            <div class="col-lg-8">
                                <div class="card h-100">
                                    <div class="card-header d-flex justify-content-between align-items-center">
                                        <h5 class="card-title mb-0">Xu hướng đơn vé</h5>
                                        <div class="btn-group btn-group-sm" role="group">
                                            <input type="radio" class="btn-check" name="trendsPeriod" id="trends7d" autocomplete="off" checked>
                                            <label class="btn btn-outline-secondary" for="trends7d">7 ngày</label>
                                            <input type="radio" class="btn-check" name="trendsPeriod" id="trends30d" autocomplete="off">
                                            <label class="btn btn-outline-secondary" for="trends30d">30 ngày</label>
                                            <input type="radio" class="btn-check" name="trendsPeriod" id="trends90d" autocomplete="off">
                                            <label class="btn btn-outline-secondary" for="trends90d">90 ngày</label>
                                        </div>
                                    </div>
                                    <div class="card-body p-3 p-lg-4">
                                        <div id="orderTrendsChart" style="height: 300px;"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- Phân bố trạng thái đơn hàng -->
                            <div class="col-lg-4">
                                <div class="card h-100">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">Trạng thái đơn vé</h5>
                                    </div>
                                    <div class="card-body p-3 p-lg-4">
                                        <div id="statusChart" style="height: 200px;"></div>
                                        <div class="mt-3">
                                            <template x-for="status in statusStats" :key="status.name">
                                                <div class="d-flex justify-content-between align-items-center mb-2">
                                                    <span class="small" x-text="status.name"></span>
                                                    <div class="d-flex align-items-center">
                                                        <span class="small text-muted me-2" x-text="`${status.percentage}%`"></span>
                                                        <span class="small fw-medium" x-text="status.count"></span>
                                                    </div>
                                                </div>
                                            </template>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Bảng đơn vé -->
                        <div class="card">
                            <div class="card-header">
                                <div class="row align-items-center">
                                    <div class="col">
                                        <h5 class="card-title mb-0">Đơn vé</h5>
                                    </div>
                                    <div class="col-auto">
                                        <div class="d-flex gap-2">
                                            <!-- Tìm kiếm -->
                                            <div class="position-relative">
                                                <input type="search" 
                                                       class="form-control form-control-sm" 
                                                       placeholder="Tìm kiếm đơn vé..."
                                                       x-model="searchQuery"
                                                       @input="filterOrders()"
                                                       style="width: 200px;">
                                                <i class="bi bi-search position-absolute top-50 end-0 translate-middle-y me-2 text-muted"></i>
                                            </div>
                                            
                                            <!-- Lọc trạng thái -->
                                            <select class="form-select form-select-sm" 
                                                    x-model="statusFilter" 
                                                    @change="filterOrders()"
                                                    style="width: 150px;">
                                                <option value="">Tất cả trạng thái</option>
                                                <option value="pending">Đang chờ</option>
                                                <option value="processing">Đang xử lý</option>
                                                <option value="delivered">Đã hoàn thành</option>
                                                <option value="cancelled">Đã hủy</option>
                                            </select>
                                            
                                            <!-- Khoảng thời gian -->
                                            <select class="form-select form-select-sm" 
                                                    x-model="dateFilter" 
                                                    @change="filterOrders()"
                                                    style="width: 150px;">
                                                <option value="">Tất cả ngày</option>
                                                <option value="today">Hôm nay</option>
                                                <option value="week">Tuần này</option>
                                                <option value="month">Tháng này</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body p-0">
                                <!-- Thanh thao tác hàng loạt -->
                                <div class="bulk-actions-bar p-3 bg-light border-bottom" x-show="selectedOrders.length > 0" x-transition>
                                    <div class="d-flex justify-content-between align-items-center">
                                        <span class="text-muted">
                                            <span x-text="selectedOrders.length"></span> đơn vé được chọn
                                        </span>
                                        <div class="d-flex gap-2">
                                            <button class="btn btn-sm btn-outline-secondary" @click="bulkAction('processing')">
                                                <i class="bi bi-arrow-clockwise me-1"></i>Đánh dấu đang xử lý
                                            </button>
                                            <button class="btn btn-sm btn-outline-info" @click="bulkAction('shipped')">
                                                <i class="bi bi-truck me-1"></i>Đánh dấu đã hoàn thành
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <!-- Bảng -->
                                <div class="table-responsive">
                                <table class="table table-hover mb-0">
                                    <thead class="table-light">
                                        <tr>
                                            <th style="width: 40px;">
                                                <input type="checkbox" 
                                                    class="form-check-input" 
                                                    @change="toggleAll($event.target.checked)"
                                                    :checked="selectedOrders.length === filteredOrders.length && filteredOrders.length > 0">
                                            </th>
                                            <th @click="sortBy('orderNumber')" class="sortable">Mã vé</th>
                                            <th>Người tham gia</th>
                                            <th>Sự kiện</th>
                                            <th @click="sortBy('total')" class="sortable">Tổng tiền</th>
                                            <th>Trạng thái</th>
                                            <th @click="sortBy('orderDate')" class="sortable">Ngày đặt</th>
                                            <th style="width: 120px;">Thao tác</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <template x-for="order in paginatedOrders" :key="order.id">
                                            <tr>
                                                <td>
                                                    <input type="checkbox" 
                                                        class="form-check-input" 
                                                        :value="order.id"
                                                        x-model="selectedOrders">
                                                </td>
                                                <td>
                                                    <div class="fw-medium" x-text="order.orderNumber"></div>
                                                    <small class="text-muted" x-text="'ID: ' + order.id"></small>
                                                </td>
                                               <td>
                                                <div class="order-customer">
                                                    <div>
                                                        <div class="fw-medium" x-text="order.customer.name"></div>
                                                        <small class="text-muted" x-text="order.customer.email"></small>
                                                    </div>
                                                </div>
                                            </td>
                                                <td>
                                                    <div class="order-items">
                                                        <div x-text="order.itemCount + ' sự kiện'"></div>
                                                        <small class="text-muted" x-text="order.items[0].name + (order.itemCount > 1 ? ' +' + (order.itemCount - 1) + ' sự kiện khác' : '')"></small>
                                                    </div>
                                                </td>
                                                <td class="fw-medium" x-text="`$${order.total}`"></td>
                                                <td>
                                                    <span class="order-status" 
                                                    :class="{
                                                        'status-pending': order.status === 'pending',
                                                        'status-processing': order.status === 'processing',
                                                        'status-shipped': order.status === 'shipped',
                                                        'status-delivered': order.status === 'delivered',
                                                        'status-cancelled': order.status === 'cancelled'
                                                    }"
                                                    x-text="order.status === 'pending' ? 'Đang chờ duyệt' : 
                                                            order.status === 'processing' ? 'Đang xử lý' : 
                                                            order.status === 'shipped' ? 'Đã phát vé' : 
                                                            order.status === 'delivered' ? 'Đã hoàn thành' : 'Đã hủy'">
                                                </span>
                                                </td>
                                                <td x-text="order.orderDate"></td>
                                                <td>
                                                    <div class="dropdown">
                                                        <button class="btn btn-sm btn-outline-secondary dropdown-toggle" 
                                                                type="button" 
                                                                data-bs-toggle="dropdown">
                                                            <i class="bi bi-three-dots"></i>
                                                        </button>
                                                        <ul class="dropdown-menu">
                                                            <li><a class="dropdown-item" href="#" @click="viewOrder(order)">
                                                                <i class="bi bi-eye me-2"></i>Xem chi tiết
                                                            </a></li>
                                                            <li><a class="dropdown-item" href="#" @click="trackOrder(order)">
                                                                <i class="bi bi-truck me-2"></i>Theo dõi vé
                                                            </a></li>
                                                            <li><a class="dropdown-item" href="#" @click="printInvoice(order)">
                                                                <i class="bi bi-printer me-2"></i>In hóa đơn
                                                            </a></li>
                                                            <li><hr class="dropdown-divider"></li>
                                                            <li><a class="dropdown-item text-danger" href="#" @click="cancelOrder(order)">
                                                                <i class="bi bi-x-circle me-2"></i>Hủy vé
                                                            </a></li>
                                                        </ul>
                                                    </div>
                                                </td>
                                            </tr>
                                        </template>
                                    </tbody>
                                </table>
                            </div>

                                <!-- Phân trang -->
                                <div class="d-flex justify-content-between align-items-center p-3">
                                    <div class="text-muted">
                                        Hiển thị <span x-text="(currentPage - 1) * itemsPerPage + 1"></span> đến 
                                        <span x-text="Math.min(currentPage * itemsPerPage, filteredOrders.length)"></span> trong tổng 
                                        <span x-text="filteredOrders.length"></span> kết quả
                                    </div>
                                    <nav>
                                        <ul class="pagination pagination-sm mb-0">
                                            <li class="page-item" :class="{ 'disabled': currentPage === 1 }">
                                                <a class="page-link" href="#" @click.prevent="goToPage(currentPage - 1)">Trước</a>
                                            </li>
                                            <template x-for="(page, index) in visiblePages" :key="`page-${index}`">
                                                <li class="page-item" :class="{ 'active': page === currentPage }">
                                                    <a class="page-link" href="#" @click.prevent="page !== '...' && goToPage(page)" x-text="page"></a>
                                                </li>
                                            </template>
                                            <li class="page-item" :class="{ 'disabled': currentPage === totalPages }">
                                                <a class="page-link" href="#" @click.prevent="goToPage(currentPage + 1)">Sau</a>
                                            </li>
                                        </ul>
                                    </nav>
                                </div>
                            </div>
                        </div>
                        
                    </div> <!-- Kết thúc khối quản lý đơn hàng -->

                </div>
            </main>
                 <!-- Modal chi tiết đơn vé -->
                <div class="modal fade" id="orderModal" tabindex="-1">
                        <div class="modal-dialog modal-xl">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title">Chi tiết vé sự kiện</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                                </div>
                                <div class="modal-body">
                                    <div class="row">
                                        <div class="col-lg-8">
                                            <h6 class="mb-3">Sự kiện đăng ký</h6>
                                            <div class="table-responsive">
                                                <table class="table">
                                                    <thead>
                                                        <tr>
                                                            <th>Tên sự kiện</th>
                                                            <th>Số lượng vé</th>
                                                            <th>Giá vé</th>
                                                            <th>Tổng cộng</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td>Sự kiện mẫu: Workshop AI 2025</td>
                                                            <td>2</td>
                                                            <td>$49.99</td>
                                                            <td>$99.98</td>
                                                        </tr>
                                                    </tbody>
                                                    <tfoot>
                                                        <tr>
                                                            <th colspan="3">Tổng thanh toán:</th>
                                                            <th>$99.98</th>
                                                        </tr>
                                                    </tfoot>
                                                </table>
                                            </div>
                                        </div>
                                        
                                        <div class="col-lg-4">
                                            <h6 class="mb-3">Tiến trình xử lý vé</h6>
                                            <div class="order-timeline">
                                                <div class="timeline-item completed">
                                                    <div class="fw-medium">Đã đăng ký vé</div>
                                                    <small class="text-muted">15/01/2025 lúc 10:30</small>
                                                </div>
                                                <div class="timeline-item completed">
                                                    <div class="fw-medium">Đã xác nhận thanh toán</div>
                                                    <small class="text-muted">15/01/2025 lúc 10:32</small>
                                                </div>
                                                <div class="timeline-item active">
                                                    <div class="fw-medium">Đang kiểm tra thông tin</div>
                                                    <small class="text-muted">16/01/2025 lúc 09:15</small>
                                                </div>
                                                <div class="timeline-item">
                                                    <div class="fw-medium">Đã phát hành vé điện tử</div>
                                                    <small class="text-muted">Đang chờ</small>
                                                </div>
                                                <div class="timeline-item">
                                                    <div class="fw-medium">Đã tham gia sự kiện</div>
                                                    <small class="text-muted">Đang chờ</small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
                                    <button type="button" class="btn btn-primary">Cập nhật trạng thái vé</button>
                                </div>
                            </div>
                        </div>
                    </div>
                <div class="modal fade" id="bulkUpdateModal" tabindex="-1">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title">Cập nhật vé hàng loạt</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                                </div>
                                <div class="modal-body">
                                    <div class="mb-3">
                                        <label class="form-label">Cập nhật trạng thái mới</label>
                                        <select class="form-select">
                                            <option value="">Chọn trạng thái mới</option>
                                            <option value="processing">Đang kiểm tra</option>
                                            <option value="shipped">Đã phát hành vé</option>
                                            <option value="delivered">Đã tham gia</option>
                                            <option value="cancelled">Đã hủy vé</option>
                                        </select>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Lọc danh sách vé</label>
                                        <select class="form-select">
                                            <option value="">Tất cả vé</option>
                                            <option value="pending">Chỉ vé đang chờ</option>
                                            <option value="processing">Chỉ vé đang kiểm tra</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
                                    <button type="button" class="btn btn-primary">Cập nhật danh sách vé</button>
                                </div>
                            </div>
                        </div>
                    </div>

    <!-- Script chính của ứng dụng -->

    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const toggleButton = document.querySelector('[data-sidebar-toggle]');
        const wrapper = document.getElementById('admin-wrapper');

        if (toggleButton && wrapper) {
          const isCollapsed = localStorage.getItem('sidebar-collapsed') === 'true';
          if (isCollapsed) {
            wrapper.classList.add('sidebar-collapsed');
            toggleButton.classList.add('is-active');
          }

          toggleButton.addEventListener('click', () => {
            const isCurrentlyCollapsed = wrapper.classList.contains('sidebar-collapsed');
            
            if (isCurrentlyCollapsed) {
              wrapper.classList.remove('sidebar-collapsed');
              toggleButton.classList.remove('is-active');
              localStorage.setItem('sidebar-collapsed', 'false');
            } else {
              wrapper.classList.add('sidebar-collapsed');
              toggleButton.classList.add('is-active');
              localStorage.setItem('sidebar-collapsed', 'true');
            }
          });
        }
      });
    </script>
    <style>
    /* Hiệu ứng Hover cho 3 nút chức năng trang Sự kiện */
.product-management .header-text + .d-flex .btn-white {
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1) !important;
    cursor: pointer !important;
    border: 1px solid #dee2e6 !important;
}

.product-management .header-text + .d-flex .btn-white:hover {
    transform: translateY(-5px) !important; /* Thẻ bay lên 5px */
    box-shadow: 0 10px 20px rgba(0, 107, 111, 0.15) !important; /* Đổ bóng xanh nhạt */
    border-color: #006B6F !important; /* Viền đổi sang màu xanh UEH */
    
    /* CHỈNH MÀU NỀN HOVER TẠI ĐÂY */
    background-color: #006B6F !important; 
}

/* Hiệu ứng Icon và Chữ bên trong khi hover */
.product-management .header-text + .d-flex .btn-white:hover i {
    transform: scale(1.2); /* Icon phóng to 20% */
    color: #ffffff !important;
    transition: transform 0.3s ease;
}

.product-management .header-text + .d-flex .btn-white:hover span {
    color: #ffffff !important; /* Chữ đổi sang màu xanh UEH */
}
</style>
</body>
</html>