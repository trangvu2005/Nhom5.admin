import{m as o}from"./vendor-ui-DjYv-mAO.js";document.addEventListener("alpine:init",()=>{o.data("productTable",()=>({products:[],filteredProducts:[],selectedProducts:[],currentPage:1,itemsPerPage:10,searchQuery:"",categoryFilter:"",stockFilter:"",sortField:"name",sortDirection:"asc",isLoading:!1,chartsInitialized:!1,stats:{total:0,inStock:0,lowStock:0,totalValue:0},categoryStats:[],init(){this.loadSampleData(),this.filterProducts(),this.calculateStats(),setTimeout(()=>{this.initCharts()},500)},loadSampleData(){this.products=[{id:1,name:"AI TRONG DOANH NGHIỆP – TỪ CHATBOTS ĐẾN TỰ ĐỘNG HÓA",sku:"WK-AI-01",category:"electronics",price:0,stock:70,status:"published",datetime:"18g00 – 20g30, 16/10/2025",location:"B1.204",organizer:"Trường Công nghệ và Thiết kế (UEH)",target:"Sinh viên, học viên, cá nhân ứng dụng AI",type:"Trực tiếp"},{id:2,name:"STORYTELLING THỜI AI – KHI DỮ LIỆU VÀ CẢM XÚC GẶP NHAU",sku:"WB-AI-02",category:"home",price:0,stock:65,status:"published",datetime:"14g00 – 15g30, 06/09/2025",location:"Zoom Online",organizer:"Trường Công nghệ và Thiết kế (UEH)",target:"Sinh viên Marketing, Content Creator",type:"Trực tuyến"},{id:3,name:"LỄ TUYÊN DƯƠNG SINH VIÊN 5 TỐT VÀ CÁN BỘ ĐOÀN - HỘI 2025",sku:"CE-SV-03",category:"clothing",price:0,stock:45,status:"published",datetime:"18h00 15/12/2025",location:"B1.302",organizer:"Đoàn - Hội Khoa Toán - Thống Kê",target:"Sinh viên UEH",type:"Trực tiếp"},{id:4,name:"“HORIZON” - CHUNG TAY KIẾN TẠO TƯƠNG LAI DU LỊCH BỀN VỮNG",sku:"CT-DL-04",category:"books",price:1e4,stock:999,status:"published",datetime:"23/09 - 20/10/2025",location:"Online",organizer:"Đoàn – Hội Khoa Du lịch",target:"Sinh viên các trường ĐH tại TP.HCM",type:"Trực tuyến"},{id:5,name:"DNA – CUỘC THI HỌC THUẬT CHUYÊN NGÀNH TỔ CHỨC SỰ KIỆN",sku:"CT-DL-05",category:"books",price:1e4,stock:999,status:"published",datetime:"20/09 – 29/10/2025",location:"UEH Quiz & Offline",organizer:"Đoàn – Hội Khoa Du lịch",target:"Sinh viên đam mê ngành sự kiện",type:"Kết hợp"},{id:6,name:"ZEENIVERSE BY U – SÁNG TẠO VŨ TRỤ ĐẠI HỌC XANH UEH",sku:"CT-GC-06",category:"books",price:0,stock:999,status:"published",datetime:"08/11 – 20/12/2025",location:"Online",organizer:"Dự án UEH Green Campus",target:"Sinh viên hệ chính quy UEH",type:"Trực tuyến"},{id:7,name:"JOB WHISPERER: HÉ LỘ BỨC MÀN TUYỂN DỤNG",sku:"WK-KT-07",category:"electronics",price:0,stock:999,status:"published",datetime:"18h00, 22/11/2025",location:"Online",organizer:"Đoàn – Hội Khoa Kinh tế",target:"Sinh viên Đại học Kinh tế TP.HCM",type:"Trực tuyến"},{id:8,name:"NỐI VÒNG TAY LỚN 2025: GLOW TRACK",sku:"FS-SV-08",category:"clothing",price:0,stock:0,status:"published",datetime:"08/10 – 11/10/2025",location:"Hội trường A.116",organizer:"Hội Sinh viên UEH",target:"Tân sinh viên khóa 51 và sinh viên",type:"Trực tiếp"},{id:9,name:"GROWTH HACKING ĐỘT PHÁ TĂNG TRƯỞNG 2025",sku:"WB-AI-09",category:"home",price:0,stock:999,status:"published",datetime:"14h00, 14/12/2024",location:"Online",organizer:"Trung tâm CNTT & Thiết kế",target:"Doanh nhân, Marketer, Startup",type:"Trực tuyến"},{id:10,name:"QUẢN LÝ DỰ ÁN CHUYỂN ĐỔI SỐ",sku:"WK-AI-10",category:"electronics",price:0,stock:150,status:"published",datetime:"08g30, 23/11/2024",location:"UEH cơ sở B",organizer:"Trường Công nghệ và Thiết kế",target:"Sinh viên năm cuối, Nhà quản lý",type:"Trực tiếp"},{id:11,name:"UEH CINEBOX – BUỔI CHIẾU PHIM: SÀI GÒN, ANH YÊU EM",sku:"FS-CTV-11",category:"clothing",price:15e3,stock:45,status:"published",datetime:"17g00, 07/10/2025",location:"B1.302",organizer:"Đội Cộng Tác Viên UEH",target:"Sinh viên UEH",type:"Trực tiếp"},{id:12,name:"NÂNG HẠNG THỊ TRƯỜNG CHỨNG KHOÁN VIỆT NAM",sku:"WK-TC-12",category:"electronics",price:0,stock:60,status:"published",datetime:"08h00, 27/09/2025",location:"B1.302",organizer:"CLB Chứng khoán SCUE",target:"Sinh viên quan tâm Tài chính",type:"Trực tiếp"},{id:13,name:"CƠ HỘI NGHỀ NGHIỆP TRONG LĨNH VỰC AI VÀ WEB3",sku:"WK-CN-13",category:"electronics",price:0,stock:30,status:"published",datetime:"13:30 – 16:00, 18/10/2024",location:"B1.303",organizer:"ET Club & VBI Academy",target:"Sinh viên quan tâm Công nghệ",type:"Trực tiếp"},{id:14,name:"INTEL-LEGACY: CONTROL THE INFINITE MOTION",sku:"WK-CN-14",category:"electronics",price:0,stock:60,status:"published",datetime:"18h00, 05/09/2025",location:"Hội trường B1.302",organizer:"BELL Club - UEH",target:"Sinh viên UEH",type:"Trực tiếp"},{id:15,name:"GREEN BUSINESS SHOWCASE",sku:"TS-TC-15",category:"home",price:0,stock:30,status:"published",datetime:"28/08/2025",location:"B1.302",organizer:"Đoàn - Hội khoa Tài chính công",target:"Sinh viên UEH",type:"Trực tiếp"},{id:16,name:"DU LỊCH VÀ CUỘC SỐNG 2025 - LUMINARIS",sku:"CE-DL-16",category:"clothing",price:0,stock:43,status:"published",datetime:"18h00, 30/11/2025",location:"Hội trường A.116",organizer:"Travelgroup UEH",target:"Học sinh, sinh viên TP.HCM",type:"Trực tiếp"},{id:17,name:"LỄ TUYÊN DƯƠNG 2025 - FRONTLINE",sku:"CE-KT-17",category:"home",price:0,stock:999,status:"published",datetime:"02/12 – 09/12/2025",location:"Online",organizer:"Khoa Kế toán UEH",target:"Sinh viên Khoa Kế toán",type:"Trực tuyến"},{id:18,name:"BẢN ĐỒ IKIGAI: HÀNH TRÌNH KHÁM PHÁ CHÍNH MÌNH",sku:"WB-TD-18",category:"home",price:0,stock:53,status:"published",datetime:"09:00 – 11:00, 08/12/2024",location:"Online",organizer:"Trung tâm CNTT & Thiết kế",target:"Người quan tâm phát triển bản thân",type:"Trực tuyến"},{id:19,name:"AN TOÀN TÌNH DỤC - CUDDLE",sku:"TS-TH-19",category:"home",price:0,stock:19,status:"published",datetime:"17h30, 15/12/2025",location:"B1.205",organizer:"Đoàn - Hội Khoa BIT",target:"Toàn thể sinh viên UEH",type:"Trực tiếp"},{id:20,name:"ĐỊNH HƯỚNG NGHỀ NGHIỆP NGÀNH CYBER SECURITY",sku:"TS-TH-20",category:"electronics",price:0,stock:999,status:"published",datetime:"17h45, 13/11/2025",location:"Online",organizer:"Đoàn - Hội Khoa BIT",target:"Sinh viên UEH",type:"Trực tuyến"}]},calculateStats(){this.stats.total=this.products.length,this.stats.inStock=this.products.filter(e=>e.stock>20).length,this.stats.lowStock=this.products.filter(e=>e.stock>0&&e.stock<=20).length,this.stats.totalValue=this.products.reduce((e,s)=>e+s.price*s.stock,0);const t={};this.products.forEach(e=>{t[e.category]=(t[e.category]||0)+1}),this.categoryStats=Object.entries(t).map(([e,s])=>({name:e.charAt(0).toUpperCase()+e.slice(1),count:s,percentage:Math.round(s/this.products.length*100),color:this.getCategoryColor(e)}))},getCategoryColor(t){return{electronics:"#6366f1",clothing:"#8b5cf6",books:"#06b6d4",home:"#10b981"}[t]||"#6b7280"},filterProducts(){this.filteredProducts=this.products.filter(t=>{const e=!this.searchQuery||t.name.toLowerCase().includes(this.searchQuery.toLowerCase())||t.sku.toLowerCase().includes(this.searchQuery.toLowerCase()),s=!this.categoryFilter||t.category===this.categoryFilter,i=!this.stockFilter||this.stockFilter==="in-stock"&&t.stock>20||this.stockFilter==="low-stock"&&t.stock>0&&t.stock<=20||this.stockFilter==="out-of-stock"&&t.stock===0;return e&&s&&i}),this.sortProducts(),this.currentPage=1},sortProducts(){this.filteredProducts.sort((t,e)=>{let s=t[this.sortField],i=e[this.sortField];return this.sortField==="price"||this.sortField==="stock"?(s=parseFloat(s),i=parseFloat(i)):this.sortField==="created"?(s=new Date(s),i=new Date(i)):(s=s.toString().toLowerCase(),i=i.toString().toLowerCase()),this.sortDirection==="asc"?s<i?-1:s>i?1:0:s>i?-1:s<i?1:0})},sortBy(t){this.sortField===t?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.sortField=t,this.sortDirection="asc"),this.filterProducts()},toggleAll(t){t?this.selectedProducts=this.paginatedProducts.map(e=>e.id):this.selectedProducts=[]},bulkAction(t){if(this.selectedProducts.length===0)return;const e=this.products.filter(s=>this.selectedProducts.includes(s.id));switch(t){case"publish":e.forEach(s=>{s.status="published"}),this.showNotification("Products published successfully!","success");break;case"unpublish":e.forEach(s=>{s.status="draft"}),this.showNotification("Products unpublished successfully!","info");break;case"delete":confirm(`Are you sure you want to delete ${this.selectedProducts.length} product(s)?`)&&(this.products=this.products.filter(s=>!this.selectedProducts.includes(s.id)),this.filterProducts(),this.calculateStats(),this.showNotification("Products deleted successfully!","success"));break}this.selectedProducts=[]},editProduct(t){console.log("Edit product:",t),this.showNotification("Edit functionality would open here","info")},viewProduct(t){console.log("View product:",t),this.showNotification("Product details would open here","info")},duplicateProduct(t){const e={...t,id:Math.max(...this.products.map(s=>s.id))+1,name:t.name+" (Copy)",sku:t.sku+"-COPY",status:"draft",created:new Date().toISOString().split("T")[0]};this.products.unshift(e),this.filterProducts(),this.calculateStats(),this.showNotification("Product duplicated successfully!","success")},deleteProduct(t){confirm(`Are you sure you want to delete "${t.name}"?`)&&(this.products=this.products.filter(e=>e.id!==t.id),this.filterProducts(),this.calculateStats(),this.showNotification("Product deleted successfully!","success"))},exportProducts(){const t=`data:text/csv;charset=utf-8,Name,SKU,Category,Price,Stock,Status,Created
`+this.filteredProducts.map(i=>`"${i.name}","${i.sku}","${i.category}","${i.price}","${i.stock}","${i.status}","${i.created}"`).join(`
`),e=encodeURI(t),s=document.createElement("a");s.setAttribute("href",e),s.setAttribute("download","products.csv"),document.body.appendChild(s),s.click(),document.body.removeChild(s),this.showNotification("Products exported successfully!","success")},showNotification(t,e="info"){typeof Swal<"u"?Swal.fire({title:t,icon:e==="success"?"success":e==="error"?"error":"info",toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3}):alert(t)},initCharts(){this.chartsInitialized||(this.initSalesChart(),this.initCategoryChart(),this.chartsInitialized=!0)},initSalesChart(){const t=document.getElementById("salesChart");if(!t){console.warn("Sales chart element not found");return}t.innerHTML="";try{const e={series:[{name:"Sales",data:[65,78,85,92,88,95,102]}],chart:{type:"area",height:300,toolbar:{show:!1}},colors:["#6366f1"],fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.3}},stroke:{curve:"smooth",width:2},xaxis:{categories:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yaxis:{title:{text:"Sales ($1000s)"}},tooltip:{y:{formatter:function(i){return"$"+i+"k"}}}};new ApexCharts(t,e).render()}catch(e){console.error("Error rendering sales chart:",e)}},initCategoryChart(){const t=document.getElementById("categoryChart");if(!t){console.warn("Category chart element not found");return}t.innerHTML="";try{const e={series:this.categoryStats.map(i=>i.count),chart:{type:"donut",height:200},labels:this.categoryStats.map(i=>i.name),colors:this.categoryStats.map(i=>i.color),plotOptions:{pie:{donut:{size:"70%"}}},legend:{show:!1},tooltip:{y:{formatter:function(i){return i+" products"}}}};new ApexCharts(t,e).render()}catch(e){console.error("Error rendering category chart:",e)}},get paginatedProducts(){const t=(this.currentPage-1)*this.itemsPerPage,e=t+this.itemsPerPage;return this.filteredProducts.slice(t,e)},get totalPages(){return Math.ceil(this.filteredProducts.length/this.itemsPerPage)},get visiblePages(){if(this.totalPages<=1)return[1];const t=[];if(t.push(1),this.totalPages<=7)for(let e=2;e<=this.totalPages;e++)t.push(e);else if(this.currentPage<=4){for(let e=2;e<=5;e++)t.push(e);t.push("..."),t.push(this.totalPages)}else if(this.currentPage>=this.totalPages-3){t.push("...");for(let e=this.totalPages-4;e<=this.totalPages;e++)t.push(e)}else{t.push("...");for(let e=this.currentPage-1;e<=this.currentPage+1;e++)t.push(e);t.push("..."),t.push(this.totalPages)}return t},goToPage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t)}})),o.data("productForm",()=>({form:{name:"",sku:"",category:"",price:"",stock:"",description:"",status:"draft"},saveProduct(){if(!this.form.name||!this.form.sku||!this.form.category||!this.form.price||!this.form.stock||!this.form.status){alert("Please fill in all required fields");return}console.log("Saving product:",this.form),typeof Swal<"u"?Swal.fire({title:"Product Saved!",text:"The product has been saved successfully",icon:"success",confirmButtonText:"OK"}):alert("Product saved successfully!"),this.form={name:"",sku:"",category:"",price:"",stock:"",description:"",status:"draft"}}})),o.data("searchComponent",()=>({query:"",search(){console.log("Searching for:",this.query)}})),o.data("themeSwitch",()=>({currentTheme:"light",init(){this.currentTheme=localStorage.getItem("theme")||"light",document.documentElement.setAttribute("data-bs-theme",this.currentTheme)},toggle(){this.currentTheme=this.currentTheme==="light"?"dark":"light",document.documentElement.setAttribute("data-bs-theme",this.currentTheme),localStorage.setItem("theme",this.currentTheme)}}))});
